---
title: Android动画 左右下布局
date: 2019-05-16 17:40:46
tags:
- Android
- 动画
---

###左右下式布局 右方布局放大全屏动画
```
    mShowAnimator = ValueAnimator.ofFloat(0f, 1f);
    mShowAnimator.setDuration(800);
    mShowAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {
        @Override
        public void onAnimationUpdate(ValueAnimator animation) {
        	// animation.getAnimatedValue()返回动画进度，从0f到1f
            float left = leftView.getWidth() * (float)animation.getAnimatedValue();
            float bottom = bottomView.getHeight() * (float)animation.getAnimatedValue();

            // 左侧布局左移出屏幕
            leftView.setTranslationX(-left);
            // 下方布局下移出屏幕
            bottomView.setTranslationY(bottom);

            // 右边布局横向放大 放大同时不断向左平移并修正基点
            rightView.setTranslationX(-left);
            rightView.setPivotX(0);
            rightView.setPivotY(0);
            rightView.setScaleX(1 + left / rightViewWidth);
            rightView.setScaleY(1 + bottom / rightViewHeight);

            // 布局中的imageview或者其它控件 - 右边布局放大占据全屏时 设置布局中photoView的大小
            if(PictureListData.getInstance().mPictureList.size() == 1){
                ViewGroup.LayoutParams params = mPhotoView.getLayoutParams();
                params.height = rightViewHeight + (int)bottom;
                params.width = rightViewWidth + (int)left;
                mPhotoView.setLayoutParams(posterParams);
            }

        }
    });
    mShowAnimator.start();
```
<!-- more -->
###变化前布局
![](before.png)

###变化后布局
![](after.png)

